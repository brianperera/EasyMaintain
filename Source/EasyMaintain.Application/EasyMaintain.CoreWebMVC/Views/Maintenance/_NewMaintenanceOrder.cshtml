@model EasyMaintain.CoreWebMVC.Models.MaintenanceViewModel

<h1 class="text-light">Create Maintenance Order</h1>



<div class="tabcontrol2" data-role="tabcontrol" data-on-tab-click="tab_click" data-on-tab-change="tab_change">
    <ul class="tabs">
        <li ><a href="#frame_1">Maintanance Record</a></li>
        <li ><a href="#frame_2">Check list</a></li>
        <li ><a href="#frame_3">Crew</a></li>
    </ul>
    <div class="frames">
        <div class="frame" id="frame_1" name="NewDetails">
            @Html.AntiForgeryToken()
            <hr />
            @Html.ValidationSummary(true)

            <div class="example">
                <div class="flex-grid">
                    <div class="row cells2">
                        <div class="cell-form margin-right-10 cell size4">
                            <label>Flight Model</label>
                            <div class="input-control text full-size">
                                @Html.TextBoxFor(m => m.FlightModel, new { @class = "FlightModel", placeholder = "Flight Model" })
                            </div>
                        </div>

                        <div class="cell-form margin-right-10 cell size4">
                            <label class="display-block">Workshop</label>
                            <div class="input-control select full-size">
                                @Html.DropDownListFor(m => m.WorkshopLocation, new SelectList(Model.Workshops), new { @class = "WorkshopLocation" })
                            </div>
                        </div>
                    </div>
                    <div class="row cells2">
                        <div class="cell-form margin-right-10 cell size4">
                            <label>Flight Number</label>
                            <div class="input-control text full-size">
                                @Html.TextBoxFor(m => m.FlightNumber, new { @class = "FlightNumber", placeholder = "Flight Number" })
                            </div>
                        </div>
                        <div class="cell-form margin-right-10 cell size4">
                            <label class="display-block">Start Date</label>
                            <div class="input-control text" id="datepicker">
                                <input type="text">
                                <button class="button"><span class="mif-calendar"></span></button>
                            </div>
                        </div>
                        <div class="cell-form margin-right-10 cell size4">
                            <label class="display-block">End Date</label>
                            <div class="input-control text" id="datepicker">
                                <input type="text">
                                <button class="button"><span class="mif-calendar"></span></button>
                            </div>
                        </div>
                    </div>
                    <div class="row cells2">
                        <div class="cell-form margin-right-10 cell size4">
                            <label class="display-block">Description</label>
                            <div class="input-control textarea full-size">
                                @Html.TextAreaFor(m => m.Description, new { @class = "Description", placeholder = "Description" })
                            </div>
                        </div>
                    </div>
                </div>
            </div>      
            <!--<a href="#frame_2" class="button primary">Next</a>
            <button class="button primary" onclick="tab_click(frame_2)"><span class="mif-next"></span> Next</button>-->
            <button class="button primary" onclick="newWorkOrder()"><span class="mif-plus"></span> Create</button>
        </div>       
        <div class="frame" id="frame_2" name="CheckList">
                    @Html.AntiForgeryToken()
                    <hr />
                    @Html.ValidationSummary(true)

                    <div class="example">
                        <div class="flex-grid">
                            <div class="row cells2">
                                <div class="cell-form margin-right-10 cell size4">
                                    <label class="display-block">Delivery Method</label>
                                    <div class="input-control select full-size">
                                        @Html.DropDownListFor(m => m.WorkshopLocation, new SelectList(Model.Workshops), new { @class = "DeliveryMethod" })
                                    </div>
                                </div>
                                <div class="cell-form margin-right-10 cell size4">
                                    <label>Delivery Date</label>
                                    <div class="input-control text full-size">
                                        <div class="input-control text" id="datepicker">
                                            <input type="text">
                                            <button class="button"><span class="mif-calendar"></span></button>
                                        </div>
                                    </div>
                                </div>
                                <div class="cell-form margin-right-10 cell size4">
                                    <label>Address</label>
                                    <div class="input-control text full-size">
                                        <div class="input-control text full-size">
                                            @Html.TextBoxFor(m => m.FlightModel, new { @class = "LineOne", placeholder = "Line 1" })
                                        </div>
                                        <div class="input-control text full-size">
                                            @Html.TextBoxFor(m => m.FlightModel, new { @class = "LineTwo", placeholder = "Line 2" })
                                        </div>
                                        <div class="input-control text full-size">
                                            @Html.TextBoxFor(m => m.FlightModel, new { @class = "City", placeholder = "City" })
                                        </div>
                                        <div class="input-control text full-size">
                                            @Html.TextBoxFor(m => m.FlightModel, new { @class = "State", placeholder = "State" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row cells2">
                                <div class="cell-form margin-right-10 cell size4">
                                    <label>Person InCharge</label>
                                    <div class="input-control text full-size">
                                        @Html.TextBoxFor(m => m.FlightModel, new { @class = "PersonInCharge", placeholder = "Person InCharge" })
                                    </div>
                                </div>
                            </div>
                            <div class="row cells2">
                                <div class="cell-form margin-right-10 cell size4">
                                    <label class="display-block">Additional Notes</label>
                                    <div class="input-control textarea full-size">
                                        @Html.TextAreaFor(m => m.Description, new { @class = "ShippingNotes", placeholder = "Additional Notes" })
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                <button class="button primary" onclick="newWorkOrder()"><span class="mif-plus"></span> Create</button>
        </div>
        <div id="frame_3" class="frame" name="Crew">Working on it</div>
    </div>
</div>





<script>

    function tab_click(tab){
        console.log(tab);
        return true;
    }
    function tab_change(tab){
        console.log(tab);
    }

    function nextTab(tab) {
        tab_click(tab);
        tab_change(tab);
    }

    function newWorkOrder() {

        var ai = 1;

        $.ajax({
            url: '/maintenance/CreateMaintenanceOrder',
            type: 'GET',
            data: {
                ComponentName: $(".ComponentName").val(),
                CreatedDate: $(".CreatedDate").val(),
                Description: $(".Description").val(),
                WorkshopLocation: $(".WorkshopLoc").val(),
                SerialNumber: $(".SerialNumber").val(),
                FlightNumber: $(".FlightNumber").val()
            },
            contentType: 'application/json; charset=utf-8',
            success: function (data) {
                debugger;
                $('#partial-view-container').html(data);
            },
        });
    }

    $(function () {
        $("#datepicker").datepicker();
    });

</script>


